<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Constructor</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <h1>Constructor</h1>
    <p>
      A constructor function is a special type of function in programming that
      is used to create objects. It is typically used in object-oriented
      programming languages like JavaScript. The purpose of a constructor
      function is to set the initial values or properties of an object when it
      is created.
    </p>

    <hr />

    <!-- Bank Account -->
    <div class="container text-bg-dark p-5">
      <form id="accountForm">
        <div class="col">
          <label>Customer Name</label>
          <input
            type="text"
            class="form-control my-3"
            placeholder="Customer Name"
            id="customerName"
          />
        </div>
        <div class="col">
          <label>Amount</label>
          <input
            type="number"
            class="form-control my-3"
            placeholder="Initial Balance"
            id="balance"
          />
        </div>
        <div class="col">
          <button class="btn btn-primary my-4">Create Account</button>
        </div>
      </form>
    </div>

    <!-- Deposit -->
    <div class="container text-bg-success p-5 mt-5">
      <form id="depositForm">
        <div class="col">
          <label>Account Number</label>
          <input
            type="number"
            class="form-control my-3"
            placeholder="Account Number"
            id="accountNumber"
          />
        </div>
        <div class="col">
          <label>Amount</label>
          <input
            type="number"
            class="form-control my-3"
            placeholder="Deposit Balance"
            id="amount"
          />
        </div>
        <div class="col">
          <button class="btn btn-primary my-4">Create Account</button>
        </div>
      </form>
    </div>

    <script>
      function BankAccount(customerName, balance = 0) {
        this.customerName = customerName;
        this.accountNumber = Date.now();
        this.balance = balance;

        this.deposit = (amount) => {
          this.balance = +this.balance + amount;
        };
      
        
        this.withdraw = (amount) => {
          this.balance = this.balance - amount;
        };
      }
      // const vanshAccount = new BankAccount("vansh", 5000);
      // const ishitAccount = new BankAccount("Ishit");

      // ishitAccount.deposit(500);
      // vanshAccount.withdraw(500);
      // vanshAccount.balance = 0
      // console.log(vanshAccount);
      // console.log(ishitAccount);

      // Create Account

      const accountForm = document.querySelector("#accountForm");
      const customerName = document.querySelector("#customerName");
      const balance = document.querySelector("#balance");

      const accounts = [];

      accountForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const account = new BankAccount(customerName.value, balance.value);
        accounts.push(account);
        console.log(accounts);
      });

      // Deposit

      const depositForm = document.querySelector("#depositForm");
      const accountNumber = document.querySelector("#accountNumber");
      const amount = document.querySelector("#amount");

      depositForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const account = accounts.find(
          (account) => (account.accountNumber === +accountNumber.value)
        );
        account.deposit(+amount.value)
        console.log(+accountNumber.value);
        console.log(+amount.value);
        
        console.log(accounts);
        
      });
    </script>
  </body>
</html>
